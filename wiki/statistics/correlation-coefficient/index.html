<!doctype html><html lang=en-us><head><meta name=generator content="Hugo 0.69.2"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Correlation Coefficient and Covariance for Numeric Data | Datumorphism | Lei Ma</title><meta name=description content="Detecting correlations using correlations for numeric data"><meta name=author content="Lei Ma"><meta property="og:title" content="Correlation Coefficient and Covariance for Numeric Data"><meta property="og:description" content="Detecting correlations using correlations for numeric data"><meta property="og:type" content="article"><meta property="og:url" content="https://datumorphism.leima.is/wiki/statistics/correlation-coefficient/"><meta property="article:published_time" content="2018-11-18T00:00:00+00:00"><meta property="article:modified_time" content="2018-11-18T00:00:00+00:00"><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-140452515-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><link rel=canonical href=https://datumorphism.leima.is/wiki/statistics/correlation-coefficient/><link rel="shortcut icon" type=image/png href=/logos/logo-square.png><link rel=stylesheet href=/css/bulma.css><link rel=stylesheet href=/css/bulma-divider.min.css><link rel=stylesheet href=/assets/css/bulma-ribbon.min.css><link rel=stylesheet href=/assets/css/tooltip.css><link rel=stylesheet href=https://jenil.github.io/bulmaswatch/united/bulmaswatch.min.css><link rel=stylesheet href=/css/custom.css><link rel=stylesheet href=/css/blog-post.css><link rel=stylesheet href=/css/code-highlighting/dark.css><link rel=stylesheet href=/css/custom.css><link rel=stylesheet href=https://unpkg.com/applause-button/dist/applause-button.css><script>MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']],displayMath:[['$$','$$'],['\\[','\\]']],tags:'ams',processEscapes:true,processEnvironments:true},options:{skipHtmlTags:['script','noscript','style','textarea','pre']},svg:{fontCache:'global'}};window.addEventListener('load',(event)=>{document.querySelectorAll("mjx-container").forEach(function(x){x.parentElement.classList+='has-jax'})});</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><script src=https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js></script><script>mermaid.initialize({startOnLoad:true});</script><script src=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js integrity="sha256-KzZiKy0DWYsnwMF+X1DvQngQ2/FxF7MF3Ff72XcpuPs=" crossorigin=anonymous></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css integrity="sha256-h20CPZ0QyXlBuAw7A+KluUYx/3pK+c7lYEpqLTlxjYQ=" crossorigin=anonymous></head><body><header><nav class="navbar is-transparent"><div class=navbar-brand><a class=navbar-item href=/><img src=/site/intelligence.png alt=Datumorphism height=28 style=margin-right:.5em> Datumorphism</a><div class="navbar-burger burger" style=color:#000 data-target=navMenu><span></span><span></span><span></span></div></div><div class=navbar-menu id=navMenu><div class=navbar-start><div class="navbar-item has-dropdown is-hoverable"><a href=/projects class=navbar-link>Notebooks</a><div class=navbar-dropdown><a href=https://datumorphism.leima.is/awesome/ class=navbar-item>Awesome</a>
<a href=https://datumorphism.leima.is/blog/ class=navbar-item>Blog</a>
<a href=https://datumorphism.leima.is/cards/ class=navbar-item>Cards</a>
<a href=https://datumorphism.leima.is/hologram/ class=navbar-item>Hologram</a>
<a href=https://datumorphism.leima.is/reading/ class=navbar-item>Reading Notes</a>
<a href=https://datumorphism.leima.is/til/ class=navbar-item>TIL</a>
<a href=https://datumorphism.leima.is/wiki/ class=navbar-item>Wiki</a></div></div></div><span class=navbar-burger><span></span><span></span><span></span></span><div class=navbar-end><div class=navbar-item><a class=navbar-item href=/blog/>Blog</a>
<a class=navbar-item href=/amneumarkt/>AmNeumarkt</a>
<a class=navbar-item href=/><i class="fas fa-search"></i></a><a class=navbar-item href=/tags/><i class="fas fa-tags"></i></a><a class=navbar-item href=/graph><i class="fas fa-project-diagram"></i></a><a class=navbar-item href=https://t.me/amneumarkt><i class="fab fa-telegram"></i></a><a class=navbar-item target=blank href=https://github.com/datumorphism><span class=icon><i class="fab fa-github"></i></span></a></div></div></div></nav><script>document.addEventListener('DOMContentLoaded',()=>{const $navbarBurgers=Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'),0);if($navbarBurgers.length>0){$navbarBurgers.forEach(el=>{el.addEventListener('click',()=>{const target=el.dataset.target;const $target=document.getElementById(target);el.classList.toggle('is-active');$target.classList.toggle('is-active');});});}});</script></header><main><div class=container itemscope itemtype=http://schema.org/BlogPosting><meta itemprop=name content="Correlation Coefficient and Covariance for Numeric Data"><meta itemprop=description content="Detecting correlations using correlations for numeric data"><meta itemprop=datePublished content="2018-11-18T00:00:00+00:00"><meta itemprop=dateModified content="2018-11-18T00:00:00+00:00"><meta itemprop=wordCount content="679"><meta itemprop=keywords content="Statistics,Basics,Correlation,"><section class=section><div class=container><article class=post><header class=post-header><nav class="breadcrumb has-succeeds-separator is-small" aria-label=breadcrumbs><ul><li><a href=https://datumorphism.leima.is/>Datumorphism</a></li><li><a href=https://datumorphism.leima.is/wiki/>Wiki</a></li><li><a href=https://datumorphism.leima.is/wiki/statistics/>Statistics</a></li><li class=active><a href=https://datumorphism.leima.is/wiki/statistics/correlation-coefficient/>Correlation Coefficient and Covariance for Numeric Data</a></li></ul></nav><h1 class="post-title has-text-centered is-size-1" itemprop="name headline">Correlation Coefficient and Covariance for Numeric Data</h1><h2 class="title is-6 has-text-centered"><i class="fas fa-tags" style=margin-right:.5em></i><a href=/tags/statistics><span class="tag is-warning is-small is-light">#Statistics</span></a>
<a href=/tags/basics><span class="tag is-warning is-small is-light">#Basics</span></a>
<a href=/tags/correlation><span class="tag is-warning is-small is-light">#Correlation</span></a></h2></header><div class=columns><div class="column is-8"><div class=is-divider data-content=ARTICLE></div><div class="content blog-post section" itemprop=articleBody><h2 id=covariances>Covariances</h2><article class="message is-info is-light"><div class=message-body>Correlation coefficient is also known as the Pearson&rsquo;s product moment coefficient.</div></article><h3 id=review-of-standard-deviation>Review of Standard Deviation</h3><p>For a series of data A, we have the standard deviations</p><p>$$
\sigma_A = \sqrt{ \frac{ \sum (a_i - \bar A)^2 }{ n } },
$$</p><p>where $n$ is the number of elements in series A.</p><p>The standard deviation is very easy to understand. It is basically the average Eucleadian distance between the data points and the average value. In this article, we will take another point of view.</p><p>Now imagine we have two series
$(a_i - \bar A)$ and $(a_j - \bar A)$. The geometric mean squared for $i=j$ is</p><p>$$
M_i^2 = (a_i - \bar A)^2.
$$</p><p>From this point of view, the standard deviation is in fact a measure of the mean of <strong>geometric mean of the deviation of each element</strong>.</p><div class=card><details><summary class="card-header-title card-toggle card-header">Standard Deviation of the Sample</summary><div class=card-content><div class=content><p>If we are dealing with a sample instead of the whole population, the standard deviation should be defined as
$$
\sigma_A = \sqrt{ \frac{ \sum (a_i - \bar A)^2 }{ n - 1 } }.
$$</p><p>Why the $n-1$? We could easily understand this by taking extreme cases. Suppose we have only 1 sample data point, the standard deviation knowledge that we can infer should be infinite since we have no idea what the standard deviation is.</p></div></div></details></div><h3 id=generalize-standard-deviation-to-covariances>Generalize Standard Deviation to Covariances</h3><blockquote><p>Knowledge card: <a href=/cards/statistics/covariance-matrix/>Covariance matrix</a>.</p></blockquote><p>Similarly, for two series A and B of the same length, we could define a quantity to measure the geometric mean of the deviation of the two series correspondingly</p><p>$$
\sigma_{A,B}^2 = \frac{ \sum (a_i - \bar A) (b_i - \bar B) }{ n },
$$</p><p>which is named the covariance of A and B, i.e., $\text{Cov} ({A,B})$.</p><p>It is easy to show that</p><p>$$
\mathrm{Cov}({A,B}) = E( A,B ) - \bar A \bar B.
$$</p><article class="message is-info is-light"><div class=message-body><p>At first glance, the square in the definition seems to be only for notation purpose at this point.</p><p>Meanwhile, using this idea of the mean of geometric mean, we could easily generalize it to the covariance of three series,</p><p>$$
\sigma_{A,B,C}^3 = \frac{ \sum (a_i - \bar A) (b_i - \bar B)(c_i - \bar C) }{ n },
$$</p><p>or even arbitrary N series,</p><p>$$
\sigma_{A_1, A_2, &mldr;, A_N }^N = \frac{ \sum_{i=1}^{n} \text{ geometric mean of the ith elements to the Nth power } }{ n } = \frac{ \sum (a_{1,i} - \bar A_1) \cdots (a_{N,i} - \bar A_{N})}{ n },
$$</p><p>which should be called the covariance of all the N series, $\mathrm{Cov} ({A_1, A_2,\cdots, A_N })$.</p><p>Of course, we do not use these since we could easily build a covariance matrix to indicate all the possible covariances between any two variables, for example,</p><p>$$
\mathbf{C} = \begin{pmatrix}
\mathrm{Cov} (A_1, A_1) & \mathrm{Cov} (A_1, A_2) \\<br>\mathrm{Cov} (A_2, A_1) & \mathrm{Cov} (A_2, A_2)
\end{pmatrix}
$$</p></div></article><p>Covariance measures the correlation of these two series. To see this, we assume that we have two series A = B, which leads to $\sigma_{A,B} = \sigma_{A}$. Suppose we have two series at a completely opposite phase,</p><table><thead><tr><th>index</th><th>A</th><th>B</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>-1</td></tr><tr><td>2</td><td>-1</td><td>1</td></tr><tr><td>3</td><td>1</td><td>-1</td></tr><tr><td>4</td><td>-1</td><td>1</td></tr><tr><td>5</td><td>1</td><td>-1</td></tr><tr><td>6</td><td>-1</td><td>1</td></tr><tr><td>7</td><td>1</td><td>-1</td></tr></tbody></table><p>we have $\sigma_{A,B} = -1 $. The negative sign tells us that our series are anti-correlated.</p><article class="message is-info is-light"><div class=message-body>Covariance is also related to <a href=../multidimensional-data>dispersion matrix</a>.</div></article><h2 id=correlation-coefficient>Correlation Coefficient</h2><p>However, we would find that the value of the covariance depends on the values of the standard deviation of each series, which makes it hard to determine how strong the correlation is.</p><p>The obvious normalization factor is the multiplication of covariance of the two series, $\sigma_A$ and $\sigma_B$, i.e.,</p><p>$$
r_{A,B} = \frac{ \text{Cov}(A,B) } { \sigma_{A} \sigma_{B} } = \frac{ \sum_i (a_i - \bar A) (b_i - \bar B) }{ n\sigma_{A} \sigma_{B} }
$$</p><p>$$
r_{A,B} = \frac{ \sum_{i} ( \text{Sign}(a_i - \bar A) M_{i}^a ) ( \text{Sign}(b_i - \bar B) M_i^b ) }{ \sum_i { M_i^a } \sum_j { M_j^b } }
$$</p><p>which is some kind of geometric mean of the geometric mean of each series.</p></div><p><div class="has-text-right is-size-7"><span class=icon><i class="fas fa-pencil-alt"></i></span>Published: <time datetime=2018-11-18T00:00:00+00:00>2018-11-18</time>
by <span itemprop=author>Lei Ma</span>;</div></p><div class=is-divider></div><nav class="pagination is-centered" role=navigation aria-label=pagination><a href="https://datumorphism.leima.is/wiki/statistics/correlation-analysis-chi-square/?ref=footer" class=pagination-previous>« Chi-square Correlation Test for Nominal Data</a>
<a class=pagination-next href="https://datumorphism.leima.is/wiki/statistics/normalization-methods/?ref=footer">Normalization Methods for Numeric Data »</a></nav></div><div class="column is-4"><div class=is-divider data-content="Cite Me"></div><div class="box is-size-7 has-text-white has-background-black"><article class=media><div class=media-content><div class=content><p>Lei Ma
(2018). 'Correlation Coefficient and Covariance for Numeric Data', Datumorphism, 11 April. Available at: https://datumorphism.leima.is/wiki/statistics/correlation-coefficient/.</p></div></div></article></div><style>#TableOfContents>ul{list-style-type:lower-greek;padding-left:0}#TableOfContents>ul>li ul{list-style-type:none;padding-left:1em}</style><div class=is-divider data-content=ToC></div><div class="box is-size-7"><article class=media><div class=media-content><div class=content><details><summary>Table of Contents</summary><div><div><nav id=TableOfContents><ul><li><a href=#covariances>Covariances</a><ul><li><a href=#review-of-standard-deviation>Review of Standard Deviation</a></li><li><a href=#generalize-standard-deviation-to-covariances>Generalize Standard Deviation to Covariances</a></li></ul></li><li><a href=#correlation-coefficient>Correlation Coefficient</a></li></ul></nav></div></div></details></div></div></article></div><script>const el=document.querySelector('details summary')
el.onclick=()=>{(function(l,o,a,d,e,r){e=o.createElement(a),r=o.getElementsByTagName(a)[0];e.async=1;e.src=d;r.parentNode.insertBefore(e,r)})(window,document,'script','/js/smoothscroll.js');el.onclick=null}
document.querySelectorAll('#TableOfContents a').forEach(link=>{link.addEventListener('click',()=>{document.querySelector(link.href.slice(link.href.indexOf('#'))).scrollIntoView({behavior:'smooth'})})})</script><div class=is-divider data-content=REFERENCES></div><div class="box is-size-7"><article class=media><div class=media-content><div class=content><p><strong>References:</strong><br><ol><li class=has-text-weight-bold><a href style=text-decoration:none>Data Mining by Jiawei Han, Micheline Kamber, Jian Pei</a></li></ol></p></div></div></article></div><div class=is-divider data-content=CONNECTUME></div><div class="box is-size-7"><article class=media><div class=media-content style=width:100%><div class=content><p><strong>Current Ref:</strong><br><ul><li style=list-style:none><div>wiki/statistics/correlation-coefficient.md</div></li></ul></p></div></div></article></div><div class="box is-size-7"><article class=media><div class=media-content><div class=content><p><strong>Links to:</strong><div><a class=box href=https://datumorphism.leima.is/cards/statistics/covariance-matrix/><div class=media-content><div class=content><h6>Covariance Matrix</h6><p>Also known as the second central moment is a measurement of the spread.</p></div></div></a><a class=box href=https://datumorphism.leima.is/wiki/statistics/multidimensional-data/><div class=media-content><div class=content><h6>Describing Multi-dimensional Data</h6><p>Describing multi-dimensional data</p></div></div></a><a class=box href=https://datumorphism.leima.is/wiki/statistics/correlation-analysis-chi-square/><div class=media-content><div class=content><h6>Chi-square Correlation Test for Nominal Data</h6><p>Detecting correlations using Pearson's chi square correlation test</p></div></div></a></div></p></div></div></article></div><div class="box is-size-7"><article class=media><div class=media-content><div class=content><p><strong>Links from:</strong><div><a class=box href=https://datumorphism.leima.is/wiki/statistics/correlation-analysis-chi-square/><div class=media-content><div class=content><h6>Chi-square Correlation Test for Nominal Data</h6><p>Detecting correlations using Pearson's chi square correlation test</p></div></div></a><a class=box href=https://datumorphism.leima.is/wiki/statistics/multidimensional-data/><div class=media-content><div class=content><h6>Describing Multi-dimensional Data</h6><p>Describing multi-dimensional data</p></div></div></a><a class=box href=https://datumorphism.leima.is/cards/statistics/conditional-probability-table/><div class=media-content><div class=content><h6>Conditional Probability Table</h6><p>The conditional probability table is also called CPT</p></div></div></a></div></p></div></div></article></div><div id=comments class=is-divider data-content=COMMENTS></div><script src=https://giscus.app/client.js data-repo=datumorphism/comments data-repo-id="MDEwOlJlcG9zaXRvcnkxNjU5MDkyNDI=" data-category=Comments data-category-id=DIC_kwDOCeOS-s4B-Zxx data-mapping=pathname data-reactions-enabled=1 data-emit-metadata=1 data-theme=light crossorigin=anonymous async></script></div></div></article></div></section></div><div class=navtools><a class="button is-primary is-light is-outlined" alt="Edit this page" href=https://github.com/datumorphism/datumorphism.github.io/edit/hugo/content/wiki/statistics/correlation-coefficient.md target=blank style=position:fixed;bottom:20px;right:10px;border-radius:9999px;width:35px;height:35px><i class="fas fa-pencil-alt"></i></a><a class="button is-primary is-light is-outlined" href=#comments alt=Comments style=position:fixed;bottom:60px;right:10px;border-radius:9999px;width:35px;height:35px><i class="far fa-comments"></i></a></div></main><footer><footer class=footer><div class=container><div class="content has-text-centered"><p>Created and maintained by <a href=https://leima.is>Lei Ma</a>.
Acknowledgement: <a href=https://gohugo.io/>Hugo</a>,
<a href=https://themes.gohugo.io/bulma/>Bulma</a>, <a href=https://kausalflow.com>KausalFlow</a>.
<strong>love</strong>.<br><a class=tag href=/about>About</a>
<a class=tag href=/index.xml>Feed</a>
<a class=tag href=/data.json>JSON Data</a></p></div></div></footer><script src=https://unpkg.com/applause-button/dist/applause-button.js></script></footer><script async type=text/javascript src=/js/bulma.js></script></body></html>